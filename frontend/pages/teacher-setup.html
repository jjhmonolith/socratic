<!DOCTYPE html>
<html lang="ko">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-NNT1R8YF3Z"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-NNT1R8YF3Z');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÏÜåÌÅ¨ÎùºÌÖåÏä§ ÏïÑÏπ¥Îç∞ÎØ∏ - ÍµêÏÇ¨ ÏÑ∏ÏÖò ÏÑ§Ï†ï (/teacher)</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/static/css/main.css?v=4">
    <link rel="stylesheet" href="/static/css/shared.css?v=1">
    <link rel="stylesheet" href="/static/css/button-system.css?v=1">
    <link rel="stylesheet" href="/static/css/input-components.css?v=2">
    <link rel="stylesheet" href="/static/css/teacher-setup.css?v=9">
    <link rel="stylesheet" href="/static/css/pdf-upload.css?v=11">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.12.2/lottie.min.js"></script>
</head>
<body class="apple-body">
    <div class="apple-container">

        <!-- Session Setup Screen (Default View) - Apple Store Style -->
        <div id="sessionSetupView" class="apple-session-setup">
            <!-- Global Navigation Bar -->
            <nav class="gnb">
                <div class="gnb-container">
                    <div class="gnb-logo">
                        <img src="/static/codle-logo.svg" alt="Codle" class="logo-image" />
                        <div class="logo-divider"></div>
                        <img src="/static/socrates-logo.svg" alt="ÏÜåÌÅ¨ÎùºÌÖåÏä§ ÏïÑÏπ¥Îç∞ÎØ∏" class="socrates-logo" />
                    </div>
                    <div class="gnb-actions">
                        <a href="https://codle.io" target="_blank" class="codle-link-button" data-ga-event="track">ÏΩîÎì§ Î∞îÎ°úÍ∞ÄÍ∏∞</a>
                    </div>
                </div>
            </nav>


            <!-- Main Content -->
            <main class="main-content">
                <!-- Blue Header Card -->
                <div class="session-header-card">
                    <div class="header-left">
                        <h1 class="session-header-title">ÏÉà ÏÑ∏ÏÖò ÎßåÎì§Í∏∞</h1>
                        <p class="session-header-subtitle">ÏÜåÌÅ¨Î£∏ ÏÑ§Ï†ïÌïòÍ≥† ÌïôÏÉù Ï∞∏Ïó¨ÏãúÌÇ§Í∏∞</p>
                    </div>
                    <div class="header-right" id="existingSessionButton" style="display: none;">
                        <button class="btn btn-secondary btn-lg" id="goToExistingSession" data-ga-event="track">
                            Í∏∞Ï°¥ ÏÑ∏ÏÖòÏúºÎ°ú Ïù¥Îèô
                            <span class="btn-icon btn-icon-right">‚Üí</span>
                        </button>
                    </div>
                </div>

                <form id="sessionForm" class="apple-form" method="post" action="javascript:void(0)">
                    <!-- Two Column Layout -->
                    <div class="main-layout-grid">
                        <!-- Left Column: Session Information -->
                        <div class="session-info-section">
                            <h2 class="section-title">ÏÑ∏ÏÖò Ï†ïÎ≥¥</h2>

                            <div class="apple-form-group">
                                <div class="input-field-group">
                                    <label for="sessionTitle" class="input-label required">ÏÑ∏ÏÖò Ï†úÎ™©</label>
                                    <input
                                        id="sessionTitle"
                                        name="title"
                                        class="input-field"
                                        placeholder="ÏΩîÎì§Ï§ëÌïôÍµê 1ÌïôÎÖÑ 3Î∞ò"
                                        maxlength="50"
                                        required
                                    />
                                </div>
                            </div>

                            <!-- ÌïôÏäµ Ï£ºÏ†ú ÏÑ§Ï†ï (PDF Î©îÏù∏) -->
                            <div class="apple-form-group">
                                <label class="apple-label">ÌïôÏäµ Ï£ºÏ†ú ÏÑ§Ï†ï</label>

                                <!-- PDF ÏóÖÎ°úÎìú ÏòÅÏó≠ (Î©îÏù∏) -->
                                <div class="pdf-upload-main">
                                    <div class="pdf-upload-zone" id="pdfUploadZone">
                                        <div class="upload-content">
                                            <div class="upload-icon">üìÑ</div>
                                            <div class="upload-text">
                                                <h4>PDF ÌååÏùºÏùÑ ÏóÖÎ°úÎìúÌïòÍ≥† AIÎ°ú ÌïôÏäµ Ï£ºÏ†ú ÏÉùÏÑ±ÌïòÍ∏∞</h4>
                                                <p>ÏµúÎåÄ 10MB, 30ÌéòÏù¥ÏßÄÍπåÏßÄ ÏßÄÏõê</p>
                                            </div>
                                        </div>
                                        <input type="file" id="pdfFile" accept=".pdf" hidden>
                                    </div>

                                    <!-- PDF Î∂ÑÏÑù ÏßÑÌñâ ÏÉÅÌÉú -->
                                    <div class="pdf-processing-status" id="pdfProcessingStatus" style="display: none;">
                                        <div class="processing-indicator">
                                            <div class="processing-animation">
                                                <div class="lottie-animation" id="pdfLottieContainer"></div>
                                            </div>
                                            <div class="processing-text">
                                                <div class="current-step" id="currentStep">ÌååÏùº Î∂ÑÏÑùÏ§ë...</div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- PDF Î∂ÑÏÑù Í≤∞Í≥º -->
                                    <div class="pdf-result-card" id="pdfResultCard" style="display: none;">
                                        <div class="result-header">
                                            <div class="result-title">
                                                <div class="success-icon">‚úÖ</div>
                                                <h4 id="pdfResultTitle">PDF Î∂ÑÏÑù ÏôÑÎ£å</h4>
                                            </div>
                                            <div class="result-actions">
                                                <button type="button" class="btn btn-outline btn-sm" id="viewCompressedContentBtn">
                                                    <span class="btn-icon">üîç</span>
                                                    ÏÉÅÏÑ∏ Î≥¥Í∏∞
                                                </button>
                                                <button type="button" class="btn btn-outline btn-sm" id="replaceFileBtn">
                                                    <span class="btn-icon">üìÅ</span>
                                                    ÌååÏùº ÍµêÏ≤¥
                                                </button>
                                            </div>
                                        </div>

                                        <div class="content-metadata">
                                            <div class="metadata-item">
                                                <div class="concept-tags" id="pdfConceptTags"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Íµ¨Î∂ÑÏÑ† -->
                                <div class="topic-divider">
                                    <div class="divider-line"></div>
                                    <div class="divider-text">ÎòêÎäî</div>
                                    <div class="divider-line"></div>
                                </div>

                                <!-- ÏßÅÏ†ë ÏûÖÎ†• ÏòÅÏó≠ -->
                                <div class="manual-input-auxiliary">
                                    <div class="input-field-group">
                                        <textarea id="manualTopicInput" name="manual_topic" class="input-field textarea manual-content"
                                                 placeholder="ÌïôÏäµ Ï£ºÏ†ú ÎòêÎäî Ï∂îÍ∞ÄÎ°ú Í∞ïÏ°∞ÌïòÍ≥† Ïã∂ÏùÄ Í¥ÄÏ†êÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî"
                                                 rows="3"></textarea>
                                    </div>
                                </div>


                                <!-- Í∏∞Ï°¥ ÏßÅÏ†ë ÏûÖÎ†• ÌïÑÎìú (Ìè¥Î∞±Ïö©) -->
                                <textarea
                                    id="sessionTopic"
                                    name="topic"
                                    class="apple-textarea"
                                    placeholder="Í∏∞ÌõÑÎ≥ÄÌôîÏùò ÏõêÏù∏Í≥º Ìï¥Í≤∞Ï±ÖÏùÑ ÌÉêÍµ¨ÌïòÍ≥† Í∞úÏù∏Í≥º ÏÇ¨Ìöå Ï∞®ÏõêÏùò ÎåÄÏùëÎ∞©ÏïàÏùÑ ÌÜ†Î°†Ìï¥Î≥¥ÏÑ∏Ïöî"
                                    rows="4"
                                    style="display: none;"
                                ></textarea>
                            </div>
                        </div>

                        <!-- Right Column: Configuration Options -->
                        <div class="right-column-wrapper">
                            <!-- Config Cards Container - ÎÜíÏù¥Î•º ÏôºÏ™ΩÍ≥º ÎßûÏ∂§ -->
                            <div class="config-options-section">
                                <!-- Difficulty Selection -->
                                <div class="config-section">
                                    <h3 class="section-title">ÌïôÏäµ ÎÇúÏù¥ÎèÑ</h3>

                                    <div class="apple-radio-group" data-name="difficulty">
                                        <input type="radio" id="difficultyEasy" name="difficulty" value="easy">
                                        <label for="difficultyEasy" class="apple-radio-card">
                                            <div class="radio-content">
                                                <div class="radio-icon">üå±</div>
                                                <div class="radio-info">
                                                    <h4 class="radio-title">Ïâ¨ÏõÄ</h4>
                                                    <p class="radio-subtitle">ÌïµÏã¨ Í∞úÎÖê ÌååÏïÖ</p>
                                                </div>
                                            </div>
                                        </label>

                                        <input type="radio" id="difficultyNormal" name="difficulty" value="normal" checked>
                                        <label for="difficultyNormal" class="apple-radio-card">
                                            <div class="radio-content">
                                                <div class="radio-icon">üìö</div>
                                                <div class="radio-info">
                                                    <h4 class="radio-title">Î≥¥ÌÜµ</h4>
                                                    <p class="radio-subtitle">Ïã§ÏÉùÌôú Ïó∞Í≤∞</p>
                                                </div>
                                            </div>
                                        </label>

                                        <input type="radio" id="difficultyHard" name="difficulty" value="hard">
                                            <label for="difficultyHard" class="apple-radio-card">
                                                <div class="radio-content">
                                                    <div class="radio-icon">üéì</div>
                                                    <div class="radio-info">
                                                        <h4 class="radio-title">Ïñ¥Î†§ÏõÄ</h4>
                                                        <p class="radio-subtitle">ÍπäÏù¥ ÏûàÎäî ÌÉêÍµ¨</p>
                                                    </div>
                                                </div>
                                            </label>
                                    </div>
                                </div>

                                <!-- Score Display Selection -->
                                <div class="config-section">
                                    <h3 class="section-title">ÌïôÏäµ ÏßÑÌñâÎèÑ</h3>

                                    <div class="apple-toggle-group" data-name="scoreDisplay">
                                        <input type="radio" id="showScoreTrue" name="showScore" value="true" checked>
                                        <label for="showScoreTrue" class="apple-toggle-card">
                                            <div class="toggle-content">
                                                <div class="toggle-icon">üìä</div>
                                                <div class="toggle-info">
                                                    <h4 class="toggle-title">Ï†êÏàò ÌëúÏãú</h4>
                                                    <p class="toggle-subtitle">Ïã§ÏãúÍ∞Ñ ÌîºÎìúÎ∞±</p>
                                                </div>
                                            </div>
                                        </label>

                                        <input type="radio" id="showScoreFalse" name="showScore" value="false">
                                            <label for="showScoreFalse" class="apple-toggle-card">
                                                <div class="toggle-content">
                                                    <div class="toggle-icon">üéØ</div>
                                                    <div class="toggle-info">
                                                        <h4 class="toggle-title">Ï†êÏàò Ïà®ÍπÄ</h4>
                                                        <p class="toggle-subtitle">ÏßëÏ§ë Î™®Îìú</p>
                                                    </div>
                                                </div>
                                            </label>
                                    </div>
                                </div>
                            </div>

                            <!-- Action Button - Î≥ÑÎèÑ ÏòÅÏó≠ -->
                            <div class="apple-action-section-right">
                                <button type="submit" class="btn btn-primary btn-xl" data-ga-event="track">
                                    ÏÑ∏ÏÖò ÏãúÏûëÌïòÍ∏∞
                                    <span class="btn-icon btn-icon-right">‚Üí</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </form>

            </main>
        </div>
        <!-- Loading Overlay -->
        <div id="loading" class="loading-overlay" style="display: none;">
            <div class="loading-content">
                <div id="lottie-container"></div>
                <p id="loadingMessage">Ï≤òÎ¶¨ Ï§ëÏûÖÎãàÎã§...</p>
            </div>
        </div>

        <!-- PDF Î∂ÑÏÑù ÏÉÅÏÑ∏ Î≥¥Í∏∞ Î™®Îã¨ -->
        <div class="modal" id="pdfContentModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>üìÑ PDF Î∂ÑÏÑù ÏÉÅÏÑ∏ Î≥¥Í∏∞</h3>
                    <button class="modal-close" id="closePdfContentModal">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="compressed-content-container">
                        <h4 id="modalContentTitle">ÏïïÏ∂ïÎêú PDF Ï†ÑÎ¨∏</h4>
                        <div class="compressed-content-text" id="compressedContentText">
                            <!-- ÏïïÏ∂ïÎêú ÎÇ¥Ïö©Ïù¥ Ïó¨Í∏∞Ïóê ÌëúÏãúÎê©ÎãàÎã§ -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-container">
                <div class="footer-logo">
                    <img src="/static/TM-logo.png" alt="ÏÜåÌÅ¨ÎùºÌÖåÏä§ ÏïÑÏπ¥Îç∞ÎØ∏ Î°úÍ≥†" class="footer-logo-img">
                </div>
                <div class="footer-content">
                    <div class="footer-text">
                        <div class="footer-company">(Ï£º)ÌåÄÎ™®ÎÖ∏Î¶¨Ïä§ | ÏÑúÏö∏ÌäπÎ≥ÑÏãú Ï§ëÍµ¨ Ìá¥Í≥ÑÎ°ú 15 9Ï∏µ</div>
                        <div class="footer-copyright">¬©TEAM MONOLITH Inc.</div>
                    </div>
                    <a href="https://codle.io" target="_blank" class="footer-link" data-ga-event="track">ÏΩîÎì§ Î∞îÎ°úÍ∞ÄÍ∏∞</a>
                </div>
            </div>
        </footer>
    </div>

    <!-- Scripts -->
    <script src="/static/config.js"></script>
    <script src="/static/js/shared/qr-generator.js?v=2"></script>
    <script src="/static/js/shared/simplified-session-manager.js?v=1"></script>
    <script src="/static/js/pdf-upload.js?v=13"></script>
    <script src="/static/js/teacher-setup.js?v=2"></script>
    <script>
        // Google Analytics event tracking
        document.addEventListener('DOMContentLoaded', () => {
            const trackableElements = document.querySelectorAll('[data-ga-event]');
            trackableElements.forEach(element => {
                element.addEventListener('click', function(e) {
                    if (typeof gtag !== 'undefined') {
                        // Generate event label from element properties
                        const classList = Array.from(this.classList).join(' ');
                        const id = this.id || '';
                        const text = this.textContent?.trim().substring(0, 50) || '';
                        const tag = this.tagName.toLowerCase();

                        // Create descriptive label
                        let label = `${tag}`;
                        if (id) label += ` #${id}`;
                        if (classList) label += ` .${classList.split(' ')[0]}`;
                        if (text) label += ` - ${text}`;

                        gtag('event', 'click', {
                            'event_category': 'engagement',
                            'event_label': label,
                            'element_classes': classList,
                            'element_id': id,
                            'element_text': text
                        });
                    }
                });
            });
        });
    </script>
</body>
</html>